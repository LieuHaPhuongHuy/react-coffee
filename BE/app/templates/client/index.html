{% extends 'client/layout/base.html' %}

{% block content %}

<div class="flex w-full h-full">
    <div id="navbar" class="w-1/5 bg-amber-400 border-yellow-700 border-3 flex flex-col">
        <p class="bg-yellow-700 border-2 rounded-md border-amber-400 text-white text-center py-5 text-xl font-semibold">
            Thể
            loại</p>
        <div class="py-3 pl-5 font-semibold hover:cursor-pointer hover:bg-yellow-700 hover:text-white transition duration-300">
            <a href="/">
                Tất cả
            </a>
        </div>
        {% for cate in cates %}
        <div class="py-3 pl-5 font-semibold hover:cursor-pointer hover:bg-yellow-700 hover:text-white transition duration-300">
            <a href="/?cate_id={{ cate.id }}">
                {{ cate.name }}
            </a>
        </div>
        {% endfor %}
    </div>

    <div class="w-4/5 bg-yellow-700 border-2 border-amber-400 rounded-md mx-auto ">
        <div class="flex flex-wrap gap-2 justify-evenly p-2 min-h-screen">
            {% for book in books %}
            <div class="bg-amber-400 w-1/3 h-fit py-5 flex flex-col py-2 rounded-md z-1">
                <div class="h-72 w-full relative z-5 before:content[''] before:h-36 before:w-full before:absolute before:bg-white before:-z-1 before:top-1/2 before:-translate-y-2/4">
                    <img src="{{ book.image }}" alt="{{ book.name }}"
                         class="absolute h-full w-52 z-2 left-1/2 -translate-x-2/4 rounded-md drop-shadow-lg">
                </div>
                <div class="pt-2 flex flex-col gap-3 font-semibold">
                    <div class="bg-white py-3 px-3 h-18 truncate rounded-tr-full rounded-br-full">{{ book.name }}</div>
                    <div class="flex justify-between">
                        <a href="/detail?book={{ book.name }}&book_id={{ book.id }}"
                           class="bg-yellow-700 text-white font-semibold transition duration-300 px-10 py-3 rounded-tr-full rounded-br-full hover:bg-white hover:text-yellow-700 hover:cursor-pointer">
                            Xem chi tiết
                        </a>
                        <div class="bg-white py-3 pl-5 pr-3 rounded-tl-full rounded-bl-full text-xl ">{{ "{:,.0f}".format(book.price) }} đ
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="my-3 flex justify-center">
            {% for i in range(pages) %}
            <div class="text-white text-lg "><a
                    class="w-8 h-8 rounded-full flex justify-center items-center hover:text-yellow-700 hover:bg-amber-400"
                    href="/?page={{ i + 1 }}">{{ i + 1 }}</a></div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}